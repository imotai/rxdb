{"version":3,"file":"rx-query-mingo.js","names":["useOperators","OperatorType","Query","$sort","$project","$and","$eq","$elemMatch","$exists","$gt","$gte","$in","$lt","$lte","$ne","$nin","$mod","$nor","$not","$or","$regex","$size","$type","mingoInitDone","getMingoQuery","selector","PIPELINE","QUERY"],"sources":["../../src/rx-query-mingo.ts"],"sourcesContent":["import { useOperators, OperatorType } from 'mingo/core';\nimport { Query } from 'mingo/query';\nimport type { MangoQuerySelector } from './types';\n\nimport { $sort } from 'mingo/operators/pipeline/sort';\nimport { $project } from 'mingo/operators/pipeline/project';\nimport {\n    $and,\n    $eq,\n    $elemMatch,\n    $exists,\n    $gt,\n    $gte,\n    $in,\n    $lt,\n    $lte,\n    $ne,\n    $nin,\n    $mod,\n    $nor,\n    $not,\n    $or,\n    $regex,\n    $size,\n    $type,\n} from 'mingo/operators/query';\n\nlet mingoInitDone = false;\n\n\n/**\n * The MongoDB query library is huge and we do not need all the operators.\n * If you add an operator here, make sure that you properly add a test in\n * the file /test/unit/rx-storage-query-correctness.test.ts\n *\n * @link https://github.com/kofrasa/mingo#es6\n */\nexport function getMingoQuery<RxDocType>(\n    selector?: MangoQuerySelector<RxDocType>\n) {\n    if (!mingoInitDone) {\n\n        useOperators(OperatorType.PIPELINE, {\n            $sort,\n            $project\n        } as any);\n        useOperators(OperatorType.QUERY, {\n            $and,\n            $eq,\n            $elemMatch,\n            $exists,\n            $gt,\n            $gte,\n            $in,\n            $lt,\n            $lte,\n            $ne,\n            $nin,\n            $mod,\n            $nor,\n            $not,\n            $or,\n            $regex,\n            $size,\n            $type,\n        } as any);\n        mingoInitDone = true;\n    }\n    return new Query(selector as any);\n}\n"],"mappings":"AAAA,SAASA,YAAY,EAAEC,YAAY,QAAQ,YAAY;AACvD,SAASC,KAAK,QAAQ,aAAa;AAGnC,SAASC,KAAK,QAAQ,+BAA+B;AACrD,SAASC,QAAQ,QAAQ,kCAAkC;AAC3D,SACIC,IAAI,EACJC,GAAG,EACHC,UAAU,EACVC,OAAO,EACPC,GAAG,EACHC,IAAI,EACJC,GAAG,EACHC,GAAG,EACHC,IAAI,EACJC,GAAG,EACHC,IAAI,EACJC,IAAI,EACJC,IAAI,EACJC,IAAI,EACJC,GAAG,EACHC,MAAM,EACNC,KAAK,EACLC,KAAK,QACF,uBAAuB;AAE9B,IAAIC,aAAa,GAAG,KAAK;;AAGzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,aAAa,CACzBC,QAAwC,EAC1C;EACE,IAAI,CAACF,aAAa,EAAE;IAEhBvB,YAAY,CAACC,YAAY,CAACyB,QAAQ,EAAE;MAChCvB,KAAK,EAALA,KAAK;MACLC,QAAQ,EAARA;IACJ,CAAC,CAAQ;IACTJ,YAAY,CAACC,YAAY,CAAC0B,KAAK,EAAE;MAC7BtB,IAAI,EAAJA,IAAI;MACJC,GAAG,EAAHA,GAAG;MACHC,UAAU,EAAVA,UAAU;MACVC,OAAO,EAAPA,OAAO;MACPC,GAAG,EAAHA,GAAG;MACHC,IAAI,EAAJA,IAAI;MACJC,GAAG,EAAHA,GAAG;MACHC,GAAG,EAAHA,GAAG;MACHC,IAAI,EAAJA,IAAI;MACJC,GAAG,EAAHA,GAAG;MACHC,IAAI,EAAJA,IAAI;MACJC,IAAI,EAAJA,IAAI;MACJC,IAAI,EAAJA,IAAI;MACJC,IAAI,EAAJA,IAAI;MACJC,GAAG,EAAHA,GAAG;MACHC,MAAM,EAANA,MAAM;MACNC,KAAK,EAALA,KAAK;MACLC,KAAK,EAALA;IACJ,CAAC,CAAQ;IACTC,aAAa,GAAG,IAAI;EACxB;EACA,OAAO,IAAIrB,KAAK,CAACuB,QAAQ,CAAQ;AACrC"}